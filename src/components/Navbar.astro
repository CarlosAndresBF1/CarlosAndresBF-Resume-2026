---
import type { Lang } from "../i18n";
import { useTranslations, getAlternateLang, getLocalizedPath } from "../i18n";

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const t = useTranslations(lang);
const altLang = getAlternateLang(lang);
---

<section class="navsection sticky-top">
  <nav class="navbar navbar-expand-lg navbar-dark bg-blur">
    <div class="container-fluid">
      <a class="navbar-brand fw-bold" href={getLocalizedPath(lang)}>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="#FFFFFF"
          viewBox="0 0 256 256"
        >
          <path
            d="M69.12,94.15,28.5,128l40.62,33.85a8,8,0,1,1-10.24,12.29l-48-40a8,8,0,0,1,0-12.29l48-40a8,8,0,0,1,10.24,12.3Zm176,27.7-48-40a8,8,0,1,0-10.24,12.3L227.5,128l-40.62,33.85a8,8,0,1,0,10.24,12.29l48-40a8,8,0,0,0,0-12.29ZM162.73,32.48a8,8,0,0,0-10.25,4.79l-64,176a8,8,0,0,0,4.79,10.26A8.14,8.14,0,0,0,96,224a8,8,0,0,0,7.52-5.27l64-176A8,8,0,0,0,162.73,32.48Z"
          ></path>
        </svg>
      </a>
      <ul class="navbar-nav d-flex flex-row justify-content-center mb-lg-0">
        <li class="nav-item ml-1">
          <a
            class="nav-link active me-2"
            aria-current="page"
            href="https://www.linkedin.com/in/carlosandresbf/"
            target="_blank"
            rel="noopener"
            title="LinkedIn"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="#FFFFFF"
              viewBox="0 0 256 256"
            >
              <path
                d="M216,24H40A16,16,0,0,0,24,40V216a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V40A16,16,0,0,0,216,24Zm0,192H40V40H216V216ZM96,112v64a8,8,0,0,1-16,0V112a8,8,0,0,1,16,0Zm88,28v36a8,8,0,0,1-16,0V140a20,20,0,0,0-40,0v36a8,8,0,0,1-16,0V112a8,8,0,0,1,15.79-1.78A36,36,0,0,1,184,140ZM100,84A12,12,0,1,1,88,72,12,12,0,0,1,100,84Z"
              ></path>
            </svg>
          </a>
        </li>
        <li class="nav-item ml-1">
          <a
            class="nav-link me-2"
            href="https://github.com/carlosandresbf"
            target="_blank"
            rel="noopener"
            title="GitHub"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="#FFFFFF"
              viewBox="0 0 256 256"
            >
              <path
                d="M230.15,117.1,210.25,41a11.94,11.94,0,0,0-22.79-1.11L169.78,88H86.22L68.54,39.87A11.94,11.94,0,0,0,45.75,41L25.85,117.1a57.19,57.19,0,0,0,22,61l73.27,51.76a11.91,11.91,0,0,0,13.74,0l73.27-51.76A57.19,57.19,0,0,0,230.15,117.1ZM58,57.5,73.13,98.76A8,8,0,0,0,80.64,104h94.72a8,8,0,0,0,7.51-5.24L198,57.5l13.07,50L128,166.21,44.9,107.5ZM40.68,124.11,114.13,176,93.41,190.65,57.09,165A41.06,41.06,0,0,1,40.68,124.11Zm87.32,91-20.73-14.65L128,185.8l20.73,14.64ZM198.91,165l-36.32,25.66L141.87,176l73.45-51.9A41.06,41.06,0,0,1,198.91,165Z"
              ></path>
            </svg>
          </a>
        </li>
        <li class="nav-item ml-1">
          <a
            class="nav-link me-2"
            href={`mailto:${t.about.email}`}
            title="Email"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="#FFFFFF"
              viewBox="0 0 256 256"
            >
              <path
                d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM203.43,64,128,133.15,52.57,64ZM216,192H40V74.19l82.59,75.71a8,8,0,0,0,10.82,0L216,74.19V192Z"
              ></path>
            </svg>
          </a>
        </li>
        <li class="nav-item ml-1">
          <a
            class="nav-link lang-switch"
            href={getLocalizedPath(altLang)}
            title={`Switch to ${altLang.toUpperCase()}`}
          >
            <span class="lang-badge">{t.switchLang}</span>
          </a>
        </li>
      </ul>
    </div>
  </nav>
</section>

<style>
  .navsection {
    z-index: 9999;
    position: fixed;
    top: 0;
    width: 100%;
  }
  .nav-link:not(:last-child) {
    margin-right: 10px !important;
  }
  .bg-blur {
    background: rgba(255, 255, 255, 0);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }
  .lang-badge {
    display: inline-block;
    padding: 2px 10px;
    border: 1px solid rgba(255, 255, 255, 0.4);
    border-radius: 4px;
    font-size: 13px;
    font-weight: 600;
    color: #fff;
    letter-spacing: 1px;
    transition: all 0.3s ease;
  }
  .lang-switch:hover .lang-badge {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.8);
  }
</style>
